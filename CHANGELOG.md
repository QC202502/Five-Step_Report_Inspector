# 五步法研报分析器更新日志

## v0.3.0 - 2025-05-23

### 新增功能
- 集成DeepSeek API进行研报分析
- 支持从数据库中获取研报并进行分析
- 完善五步法分析结构化输出
- 添加分析结果评分系统

### 改进
- 优化API调用错误处理
- 增强分析结果解析能力
- 提供详细的分析报告格式

### 修复
- 修复中文编码问题
- 修复API调用超时处理

## v0.2.3 - 2025-05-23

### 修复 (Fixes)
- 修复了在 `database.py` 中多个函数 (`get_reports_from_db`, `get_reports_by_industry`, `search_reports`) 错误删除 `id` 字段的问题，确保 `app.py` 可以正确访问研报ID。
- 修复了 `app.py` 中 `load_reports_from_db` 函数在处理从数据库加载的研报数据时，由于 `id` 字段缺失导致的错误。
- 修复了 `app.py` 中 `stats_page` 统计页面因分析步骤 (`steps`) 数据结构不一致（列表与字典）而导致的错误。

### 改进 (Improvements)
- 更新了 `app.py` 中的辅助函数 (`calculate_completeness_score`, `get_completeness_description`, `get_improvement_suggestions`) 以兼容列表和字典两种格式的分析步骤数据结构，增强了数据处理的鲁棒性。

## v0.2.2 - 2025-05-22

### 新增功能
- 全新改进的用户界面，美观且符合现代设计标准
- 添加统计分析页面，展示研报分布、评分分析和行业分布等
- 添加行业和机构筛选功能，方便按类别查看研报
- 添加搜索功能，支持按关键词搜索研报
- 改进研报详情页，添加雷达图展示五步法评分
- 添加404和500错误页面，提升用户体验

### 改进
- 优化数据库访问逻辑，修复数据加载问题
- 改进爬取过程的用户交互，添加实时状态更新
- 使用Bootstrap 5和Font Awesome改进UI组件
- 添加响应式设计，适配各种屏幕尺寸
- 添加API端点获取版本信息

### 修复
- 修复数据库访问错误
- 修复研报内容展示问题
- 改进错误处理和异常管理

## v0.2.1 - 2025-05-22

### 改进
- 移除了处理10篇研报的限制，现在可以处理所有爬取的研报数据
- 完善异常处理，确保单个报告处理失败不会影响整体流程

## v0.2.0 - 2025-05-22

### 新增功能
- 添加数据库功能，持久化存储研报数据
- 实现研报数据的导入/导出功能
- 添加更多错误处理和日志记录

## v0.1.0 - 2025-05-22

### 初始版本
- 基本的五步法分析功能
- 实现网页爬虫功能，获取东方财富网研报数据
- 使用Claude进行研报智能分析
- 基本的Web界面展示分析结果
